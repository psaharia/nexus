#!/bin/bash

source Utils.sh

#lengths=(45.5 43.5 41.5 39.5 37.5 35.5 33.5 31.5 29.5 27.5 25.5 
#23.5 21.5 19.5 17.5 15.5 13.5 11.5 9.5 7.5 5.5 3.5 1.5 -0.5 -2.5 -4.5 -6.5 -8.5 
#-10.5 -12.5 -14.5 -16.5 -18.5 -20.5 -22.5 -24.5 -26.5)

lengths=(400 380 360 340 320 300 280 260 240 220 200 180 160 
140 120 100 80 60 40 20 0 -20 -40 -60 -80 -100 -120 -140 -160 
-180 -200 -220 -240 -260 -280 -300 -320 -340 -360 -380 -400)

lengths_y11=(45.5 43.5 41.5 39.5 37.5 35.5 33.5 31.5 29.5 27.5 25.5 
23.5 21.5 19.5 17.5 15.5 13.5 11.5 9.5 7.5 5.5 3.5 1.5 -0.5 -2.5 -4.5 -6.5 -8.5 
-10.5 -12.5 -14.5 -16.5 -18.5 -20.5 -22.5 -24.5 -26.5)

lengths_test=(400 390)

generate_macros "${lengths[@]}"

parallel --jobs 8 ./bin/nexus -n 1000000 ./macros_temp/cyl_eg_{1}.init.mac ::: "${lengths[@]}"

rm macros_temp/*